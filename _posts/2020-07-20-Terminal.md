---
layout: post
title:  "Терминал мануал"
crawlertitle: "This is our first post"
summary: "Терминал мануал"
date:   2023-06-29 23:09:47 +0700
categories: posts
tags: ['Дата аналитика']
#author: Felipe
---

В этой мануале мы рассмотрим основные возможности для работы с терминалом в Linux. Знание этих возможностей, поможет вам чувствовать себя более уверенным при работе с командой строкой.

## Процесс загрузки 

{% highlight python %}
- /etc/profile	-настройки системных переменных
- ~/.bash_profile	-настройка пользовательских переменных
- ~/.bashrc	-выполнение пользовательских команд
{% endhighlight %}

## Горячие клавиши

CTRL + стрелки – перемещение по словам
CTRL + W– удаление слова слева от курсора
CTRL + R– поиск по истории команд
ALT + .– подставить последний аргумент
CTRL + X + E– ввод команды через текстовый редактор
CTRL + Z– отправить текущей команде сигнал SIGSTOP

## Полезные команды

!! – повторить предыдущую команду
watch – повторять команду с интервалом
fg – вернуть процесс на передний план
bg – продолжить выполнение на заднем плане
jobs – посмотреть остановленные процессы

## Потоки данных


stdout – поток вывода – &1 
{% highlight python %}
echo "Test" > file
{% endhighlight %}

stderr – поток ошибок – &2 
{% highlight python %}
echo "Test" 2> file 
ls /root 2> file  
ls /root > file 2>&1
{% endhighlight %}

stdin – поток ввода 
{% highlight python %}
echo 'print("Hello world")' | python3
{% endhighlight %}

> - перезаписывает
>> - добавляет

## Работа с текстом

grep – утилита для построчного поиска текста по паттерну
{% highlight python %}
- zcat /proc/config.gz | grep -i BTRFS | grep -v "^#"
- zcat /proc/config.gz | grep -i "^CONFIG_BTRFS"
- zgrep "^CONFIG_BTRFS" /proc/config.gz
- cat /etc/ssh/ssh_config | grep -v "^$\|^#"
- cat /etc/ssh/ssh_config | grep .
- zcat /proc/config.gz | grep "CONFIG.*POSIX_ACL"
{% endhighlight %}

awk – скриптовый язык обработки текста
{% highlight python %}
- ps aux | grep telegram-desktop
- ps aux | grep telegram-desktop | grep -v grep
- ps aux | grep telegram-desktop | grep -v grep | awk '{print $2}'
- cat /etc/passwd | awk -F: '{print $1}'
- cat /var/log/syslog | grep "Dec 15 20:21:*" | awk '{print $1,$2,$3,$5}'
{% endhighlight %}

sed – потоковый текстовый редактор
{% highlight python %}
- sed -i "s/HashKnownHosts yes/HashKnownHosts no/" /etc/ssh/ssh_config
- sed -i "s/Привет мир/Hello World" test*
- cat test1 | sed "s/world/мир"
{% endhighlight %}

## Vim

### Режимы работы Vim

Режим команд (Command mode) - используется для выполнения команд. При запуске Vim, вы находитесь в этом режиме.

Режим вставки (Insert mode) - используется для ввода текста. Для перехода в этот режим, нажмите клавишу "i".

Режим замены (Replace mode) - используется для замены существующего текста. Для перехода в этот режим, нажмите клавишу "R".

Режим визуального выделения (Visual mode) - используется для выделения текста для копирования, вырезания или изменения. Для перехода в этот режим, нажмите клавишу "v".

### Навигация

    h - переместить курсор влево

    j - переместить курсор вниз

    k - переместить курсор вверх

    l - переместить курсор вправо

    w - переместить курсор на начало следующего слова

    b - переместить курсор на начало предыдущего слова

    e - переместить курсор на конец текущего слова

    0 - переместить курсор в начало строки

    $ - переместить курсор в конец строки

    gg - переместить курсор в начало файла

    G - переместить курсор в конец файла

### Редактирование текста

    i - вставить текст перед курсором

    a - вставить текст после курсора

    o - вставить новую строку после текущей строки и перейти в режим вставки

    dd - вырезать текущую строку

    yy - скопировать текущую строку

    p - вставить скопированный или вырезанный текст после курсора

    u - отменить последнее действие

    Ctrl + r - повторить отмененное действие

### Сохранение и выход из редактора

    :w - сохранить файл

    :q - выйти из Vim

    :wq - сохранить файл и выйти

Клавиша Esc переключает Vim в нормальный режим. Если в этом режиме нажать : (проверьте, что установлена английская раскладка и снят CapsLock, затем одновременно нажмите Shift и ;), то символ : появится в нижней части экрана, и редактор перейдёт в режим командной строки. Это гарантирует, что вы сейчас именно вводите команду, а не редактируете файл. Помните, что регистр вводимых команд важен.

## Виртуальные терминалы

screen - менеджер виртуальных терминалов
tmux - терминальный мультиплексор
